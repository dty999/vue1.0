## MVVM 模式

- Model-View-ViewModel

**Model**:代表数据模型，数据和业务逻辑都在 Model 层中定义
**View**:代表 UI 视图，负责数据的展示；视图层，也就是用户界面。前端主要由 HTML 和 CSS 来构建 。
**ViewModel**:负责监听 Model 中数据的改变并且控制视图的更新，处理用户交互操作；

**Vue 是以数据为驱动的，Vue 自身将 DOM 和数据进行绑定，一旦创建绑定，DOM 和数据将保持同步，每当数据发生变化，DOM 会跟着变化。 ViewModel 是 Vue 的核心，它是 Vue 的一个实例。**

## VUE

Vue (读音 /vjuː/，类似于 **view**) 是一套用于**构建用户界面**的渐进式**框架**

- Vue 的核心库只关注视图层

### 安装

- Vue **不支持** **IE8** 及以下版本，因为 Vue 使用了 IE8 无法模拟的 ECMAScript 5 特性。

1. 直接<script>引入
2. CLI（命令行工具）
3. vue ui

```html
开发版
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
发行版
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.12"></script>
```

。。。

### 基本指令

- v-text 和 v-html 及插值表达式的区别

- v-bind

  - 用来绑定属性
  - 可以简写
  - v-bind中可以写表达式

  ~~~html
  <input type="button" value="按钮" v-bind:title="表达式">
  <input type="button" value="按钮" :title="表达式">
  ~~~

- v-on

  - 绑定事件

  - ~~~html
        <!-- 不可以 -->
        <button v-on:click="alert('v-on')">点我</button>
        <!-- 可以 -->
        <button @click="show">点我</button>
        <button @mousemove="show">点我</button>
    ~~~


- 事件修饰符

  - 事件冒泡（stop）：阻止从里到外事件传递

    ~~~html
      <div id="app">
        <div class="container" @click="clickContainer">
          <div class="inner" @click.stop="clickInner">横幅</div>
        </div>
      </div>
    ~~~

  - 阻止默认事件（prevent）

  - ~~~html
    <a href="www.baidu.com" @click.prevent.stop="clickHref">百度(阻止跳转并阻止冒泡)</a>
    ~~~

  - capture:从外到里捕获事件，stop会失效

  - ~~~html
    <div class="container" @click.capture="clickContainer">
    ~~~

  - self：只响应自身事件，（加到外层元素上可以批量阻止冒泡）

  - once：只响应一次

- v-model:双向数据绑定，一般用于表单。
  ~~~html
  <div id="app">
    <h4>{{ msg }}</h4>
    <input type="text" :value="msg">
    <!-- v-bind只能单向数据绑定 -->
    <input type="text" v-model="msg">
    <!-- 使用v-model可以实现表单元素和model中数据双向绑定 -->
    <!-- v-model只能用于表单元素中 -->
    <!-- （input:radio text address email...） select checkbox textarea -->

  </div>

  <script>
    //创建Vue实例,得到 ViewModel
    var vm = new Vue({
      el: '#app',
      data: {
        msg: '乘风破浪'
      },
      methods: {}
    });
  </script>
  ~~~

- vue中的class，style使用
  - ~~~html
    <!-- 不用vue的常规写法 -->
    <h1 class="red thin">春江花月夜</h1>

    <!-- 绑定数组，数组里可以是对象 也可以是三元表达式-->
    <h1 :class="['red', 'thin', 'italic', {'active': flag}]">春江花月夜</h1>
    <!-- 绑定对象，属性名的引号可省略 -->
    <h1 :class="{red:true,thin:true}">春江花月夜</h1>
    <h1 :style="{color:'green','font-style':'italic'}">床前明月光</h1>

    <!-- 在style中通过数组引用多个data上的样式对象 -->
    <h1 :style="[styleObj1,styleObj2]">床前明月光</h1>
  - ~~~
  
- v-for和key
- ~~~html
-  <div id="app">
    <p v-for="item in items">{{item}}</p>
    <p v-for="(item,index) in items">{{item}}==={{index}}</p>
    <p v-for="(key,val,index) in obj">{{val}}==={{key}}==={{index}}</p>
    <p v-for="n in 10">{{n}}</p>
    </div>
    <script>
    //创建Vue实例,得到 ViewModel
    var vm = new Vue({
      el: '#app',
      data: {
        items: ['2014', '1223', '11112'],
        obj: {
          name: 'ding',
          age: '20'
        }

      },
      methods: {}
    });
  </script>
- ~~~

- v-if和v-show
~~~html
- <div v-if="flag"></div>
<!-- - v-if更新会创建、删除元素，而v-show是控制display显示、隐藏元素。各有特点！ -->
  <div v-show="flag"></div>
~~~

- vue-devtools安装
  谷歌插件中心安装

- 过滤器
  - Vue.js 允许你自定义过滤器，可被用于一些常见的文本格式化。
  - 过滤器可以用在两个地方：双花括号插值和 v-bind 表达式。
  - 过滤器应该被添加在 JavaScript 表达式的尾部，由“管道”符号|指示
  - ~~~html
  - <!-- 在双花括号中 -->
    {{ message | capitalize }}
    <!-- 在 `v-bind` 中 -->
    <div v-bind:id="rawId | formatId"></div>
  - ~~~
  - 第一个参数是管道符前面的内容，第二个往后依次是传递过来的参数
  - 全局过滤器
    - ~~~js
      // 全局过滤器写在创建vue实例前面，才起作用
      // <!-- 可以传递多个参数 -->
      // 第一个参数是管道符前面的内容，第二个往后依次是传递过来的参数
      // 直接Vue.filter(...)是全局过滤器
      Vue.filter('formattingTime', (dateTime, arg) => {
        return dateTime.getFullYear() + arg
      })
      ~~~
  - 私有过滤器
  - 过滤器调用遵守就近原则，优先调用私有过滤器
    - ~~~js
        var vm = new Vue({
        el: '#app',
        data: {},
        filters: {
          filterName1(arg, arg1) {
            return arg + arg1
          },
          filterName2(arg) {
            return arg
          },
        },
        methods: {}
      });
    - ~~~
  - 键盘修饰符
  - ~~~html
    <!-- 键盘修饰符 -->
    <!-- 也可以直接写键码值（所有的都可用） -->
    <input type="text" v-model="book.id" @keyup.enter="addBook">
    <!-- F2 -->
    <input type="text" v-model="book.id" @keyup.113="addBook">
  - ~~~